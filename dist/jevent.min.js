!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jEvent=t():e.jEvent=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){/*!
	 * jEvent
	 * author: daifee <mr_zhangjiayong@163.com>
	 */
function n(e){this.event=e.event,this.handler=e.handler,this.obj=e.obj}function o(){this.models=[]}n.prototype.emit=function(e){this.handler.call(this.obj,e)},o.prototype.each=function(e){for(var t=0,n=this.models.length;n>t;t++)e.call(this,this.models[t],t)},o.prototype.add=function(e){var t=!1;this.each(function(n){n.handler===e.handler&&(e.obj?n.obj===e.obj&&(t=!0):t=!0)}),t===!1&&this.models.push(e)},o.prototype.resetModels=function(e){this.models=e};var r=new o,i=function(e){var t;return e===s?t=r:(e._jevent_collection instanceof o||(e._jevent_collection=new o),t=e._jevent_collection),t},s={on:function(e,t,o){var r={event:e,handler:t,obj:o},s=new n(r),h=i(this);return h.add(s),this},one:function(e,t,o){var r={event:e,handler:t,obj:o,one:!0},s=new n(r),h=i(this);return h.add(s),this},trigger:function(e,t){var n=i(this),o=[];return n.each(function(n){e===n.event&&(n.emit(t),n.one||o.push(n))}),n.resetModels(o),this},emit:function(e,t){return this.trigger(e,t)},off:function(e,t,n){for(var o=i(this),r=[],s=0,h=0,c=arguments.length;c>h;h++)"undefined"!=typeof arguments[h]&&s++;return o.each(function(o){switch(s){case 1:o.event!==e&&r.push(o);break;case 2:(o.event!==e||o.handler!==t)&&r.push(o);break;case 3:(o.event!==e||o.handler!==t||o.obj!==n)&&r.push(o)}}),o.resetModels(r),this},change:function(e,t){return"function"==typeof e?this.on("change",e,t):this.trigger("change",e)},offChange:function(e,t){return this.off("change",e,t)}};e.exports=s}])});